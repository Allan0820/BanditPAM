\hypertarget{op__chi2rnd__meat_8hpp_source}{}\doxysection{op\+\_\+chi2rnd\+\_\+meat.\+hpp}
\label{op__chi2rnd__meat_8hpp_source}\index{/Users/motiwari/Desktop/BanditPAM/headers/carma/extern/armadillo-\/code/include/armadillo\_bits/op\_chi2rnd\_meat.hpp@{/Users/motiwari/Desktop/BanditPAM/headers/carma/extern/armadillo-\/code/include/armadillo\_bits/op\_chi2rnd\_meat.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{// Copyright 2008-\/2016 Conrad Sanderson (http://conradsanderson.id.au)}}
\DoxyCodeLine{2 \textcolor{comment}{// Copyright 2008-\/2016 National ICT Australia (NICTA)}}
\DoxyCodeLine{3 \textcolor{comment}{// }}
\DoxyCodeLine{4 \textcolor{comment}{// Licensed under the Apache License, Version 2.0 (the "{}License"{});}}
\DoxyCodeLine{5 \textcolor{comment}{// you may not use this file except in compliance with the License.}}
\DoxyCodeLine{6 \textcolor{comment}{// You may obtain a copy of the License at}}
\DoxyCodeLine{7 \textcolor{comment}{// http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{8 \textcolor{comment}{// }}
\DoxyCodeLine{9 \textcolor{comment}{// Unless required by applicable law or agreed to in writing, software}}
\DoxyCodeLine{10 \textcolor{comment}{// distributed under the License is distributed on an "{}AS IS"{} BASIS,}}
\DoxyCodeLine{11 \textcolor{comment}{// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.}}
\DoxyCodeLine{12 \textcolor{comment}{// See the License for the specific language governing permissions and}}
\DoxyCodeLine{13 \textcolor{comment}{// limitations under the License.}}
\DoxyCodeLine{14 \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{15 }
\DoxyCodeLine{16 }
\DoxyCodeLine{19 }
\DoxyCodeLine{20 }
\DoxyCodeLine{21 }
\DoxyCodeLine{22 \textcolor{keyword}{template}<\textcolor{keyword}{typename} T1>}
\DoxyCodeLine{23 \textcolor{keyword}{inline}}
\DoxyCodeLine{24 \textcolor{keywordtype}{void}}
\DoxyCodeLine{25 op\_chi2rnd::apply(\mbox{\hyperlink{classMat}{Mat<typename T1::elem\_type>}}\& out, \textcolor{keyword}{const} \mbox{\hyperlink{classOp}{Op<T1,op\_chi2rnd>}}\& in)}
\DoxyCodeLine{26   \{}
\DoxyCodeLine{27   arma\_extra\_debug\_sigprint();}
\DoxyCodeLine{28   }
\DoxyCodeLine{29   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} T1::elem\_type eT;}
\DoxyCodeLine{30   }
\DoxyCodeLine{31   \textcolor{keyword}{const} \mbox{\hyperlink{classProxy}{Proxy<T1>}} P(in.\mbox{\hyperlink{classOp_af7ab7221b6e233cdd38b9f9b69f301ce}{m}});}
\DoxyCodeLine{32   }
\DoxyCodeLine{33   \textcolor{keywordflow}{if}(P.is\_alias(out) == \textcolor{keyword}{false})}
\DoxyCodeLine{34     \{}
\DoxyCodeLine{35     op\_chi2rnd::apply\_noalias(out, P);}
\DoxyCodeLine{36     \}}
\DoxyCodeLine{37   \textcolor{keywordflow}{else}}
\DoxyCodeLine{38     \{}
\DoxyCodeLine{39     \mbox{\hyperlink{classMat}{Mat<eT>}} tmp;}
\DoxyCodeLine{40     }
\DoxyCodeLine{41     op\_chi2rnd::apply\_noalias(tmp, P);}
\DoxyCodeLine{42     }
\DoxyCodeLine{43     out.\mbox{\hyperlink{group__Mat_gaff06a75771f96605f7cc4f8c6b3fceb7}{steal\_mem}}(tmp);}
\DoxyCodeLine{44     \}}
\DoxyCodeLine{45   \}}
\DoxyCodeLine{46 }
\DoxyCodeLine{47 }
\DoxyCodeLine{48 }
\DoxyCodeLine{49 \textcolor{keyword}{template}<\textcolor{keyword}{typename} T1>}
\DoxyCodeLine{50 \textcolor{keyword}{inline}}
\DoxyCodeLine{51 \textcolor{keywordtype}{void}}
\DoxyCodeLine{52 op\_chi2rnd::apply\_noalias(\mbox{\hyperlink{classMat}{Mat<typename T1::elem\_type>}}\& out, \textcolor{keyword}{const} \mbox{\hyperlink{classProxy}{Proxy<T1>}}\& P)}
\DoxyCodeLine{53   \{}
\DoxyCodeLine{54   arma\_extra\_debug\_sigprint();}
\DoxyCodeLine{55   }
\DoxyCodeLine{56   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} T1::elem\_type eT;}
\DoxyCodeLine{57   }
\DoxyCodeLine{58   \mbox{\hyperlink{classop__chi2rnd__varying__df}{op\_chi2rnd\_varying\_df<eT>}} generator;}
\DoxyCodeLine{59   }
\DoxyCodeLine{60   \textcolor{keyword}{const} uword n\_rows = P.get\_n\_rows();}
\DoxyCodeLine{61   \textcolor{keyword}{const} uword n\_cols = P.get\_n\_cols();}
\DoxyCodeLine{62   }
\DoxyCodeLine{63   out.\mbox{\hyperlink{group__Mat_ga750c2d7d0bd0cf7b88e17a24db252438}{set\_size}}(n\_rows, n\_cols);}
\DoxyCodeLine{64   }
\DoxyCodeLine{65   eT* out\_mem = out.\mbox{\hyperlink{group__Mat_gad5b1b46a9288e04128aa11c99cc2b444}{memptr}}();}
\DoxyCodeLine{66   }
\DoxyCodeLine{67   \textcolor{keywordflow}{if}(\mbox{\hyperlink{classProxy}{Proxy<T1>::use\_at}} == \textcolor{keyword}{false})}
\DoxyCodeLine{68     \{}
\DoxyCodeLine{69     \textcolor{keyword}{const} uword N = P.get\_n\_elem();}
\DoxyCodeLine{70     }
\DoxyCodeLine{71     \textcolor{keyword}{typename} \mbox{\hyperlink{classProxy}{Proxy<T1>::ea\_type}} Pea = P.get\_ea();}
\DoxyCodeLine{72     }
\DoxyCodeLine{73     \textcolor{keywordflow}{for}(uword i=0; i<N; ++i)}
\DoxyCodeLine{74       \{}
\DoxyCodeLine{75       out\_mem[i] = generator( Pea[i] );}
\DoxyCodeLine{76       \}}
\DoxyCodeLine{77     \}}
\DoxyCodeLine{78   \textcolor{keywordflow}{else}}
\DoxyCodeLine{79     \{}
\DoxyCodeLine{80     \textcolor{keywordflow}{for}(uword col=0; col < n\_cols; ++col)}
\DoxyCodeLine{81     \textcolor{keywordflow}{for}(uword row=0; row < n\_rows; ++row)}
\DoxyCodeLine{82       \{}
\DoxyCodeLine{83       (*out\_mem) = generator( P.at(row,col) );  ++out\_mem;}
\DoxyCodeLine{84       \}}
\DoxyCodeLine{85     \}}
\DoxyCodeLine{86   \}}
\DoxyCodeLine{87 }
\DoxyCodeLine{88 }
\DoxyCodeLine{89 }
\DoxyCodeLine{90 \textcolor{keyword}{template}<\textcolor{keyword}{typename} eT>}
\DoxyCodeLine{91 \textcolor{keyword}{inline}}
\DoxyCodeLine{92 \textcolor{keywordtype}{void}}
\DoxyCodeLine{93 op\_chi2rnd::fill\_constant\_df(\mbox{\hyperlink{classMat}{Mat<eT>}}\& out, \textcolor{keyword}{const} eT df)}
\DoxyCodeLine{94   \{}
\DoxyCodeLine{95   arma\_extra\_debug\_sigprint();}
\DoxyCodeLine{96   }
\DoxyCodeLine{97   \textcolor{keywordflow}{if}(df > eT(0))}
\DoxyCodeLine{98     \{}
\DoxyCodeLine{99     \textcolor{keyword}{typedef} std::mt19937\_64                   motor\_type;}
\DoxyCodeLine{100     \textcolor{keyword}{typedef} std::mt19937\_64::result\_type      seed\_type;}
\DoxyCodeLine{101     \textcolor{keyword}{typedef} std::chi\_squared\_distribution<eT> distr\_type;}
\DoxyCodeLine{102     }
\DoxyCodeLine{103     motor\_type motor;  motor.seed( seed\_type(\mbox{\hyperlink{structarma__rng_1_1randi}{arma\_rng::randi<int>}}()) );}
\DoxyCodeLine{104     distr\_type distr(df);}
\DoxyCodeLine{105     }
\DoxyCodeLine{106     \textcolor{keyword}{const} uword N = out.\mbox{\hyperlink{classMat_a89f0d40af94b6521edd06645a0d68fd4}{n\_elem}};}
\DoxyCodeLine{107     }
\DoxyCodeLine{108     eT* out\_mem = out.\mbox{\hyperlink{group__Mat_gad5b1b46a9288e04128aa11c99cc2b444}{memptr}}();}
\DoxyCodeLine{109     }
\DoxyCodeLine{110     \textcolor{keywordflow}{for}(uword i=0; i<N; ++i)}
\DoxyCodeLine{111       \{}
\DoxyCodeLine{112       out\_mem[i] = eT( distr(motor) );}
\DoxyCodeLine{113       \}}
\DoxyCodeLine{114     \}}
\DoxyCodeLine{115   \textcolor{keywordflow}{else}}
\DoxyCodeLine{116     \{}
\DoxyCodeLine{117     out.\mbox{\hyperlink{group__Mat_gab60eae61ede0f0df33fb2a67cf62b696}{fill}}( \mbox{\hyperlink{classDatum}{Datum<eT>::nan}} );}
\DoxyCodeLine{118     \}}
\DoxyCodeLine{119   \}}
\DoxyCodeLine{120 }
\DoxyCodeLine{121 }
\DoxyCodeLine{122 }
\DoxyCodeLine{123 \textcolor{comment}{//}}
\DoxyCodeLine{124 }
\DoxyCodeLine{125 }
\DoxyCodeLine{126 }
\DoxyCodeLine{127 \textcolor{keyword}{template}<\textcolor{keyword}{typename} eT>}
\DoxyCodeLine{128 \textcolor{keyword}{inline}}
\DoxyCodeLine{129 \mbox{\hyperlink{classop__chi2rnd__varying__df}{op\_chi2rnd\_varying\_df<eT>::\string~op\_chi2rnd\_varying\_df}}()}
\DoxyCodeLine{130   \{}
\DoxyCodeLine{131   arma\_extra\_debug\_sigprint();}
\DoxyCodeLine{132   \}}
\DoxyCodeLine{133 }
\DoxyCodeLine{134 }
\DoxyCodeLine{135 }
\DoxyCodeLine{136 \textcolor{keyword}{template}<\textcolor{keyword}{typename} eT>}
\DoxyCodeLine{137 \textcolor{keyword}{inline}}
\DoxyCodeLine{138 \mbox{\hyperlink{classop__chi2rnd__varying__df}{op\_chi2rnd\_varying\_df<eT>::op\_chi2rnd\_varying\_df}}()}
\DoxyCodeLine{139   \{}
\DoxyCodeLine{140   arma\_extra\_debug\_sigprint();}
\DoxyCodeLine{141   }
\DoxyCodeLine{142   \textcolor{keyword}{typedef} std::mt19937\_64::result\_type seed\_type;}
\DoxyCodeLine{143   }
\DoxyCodeLine{144   motor.seed( seed\_type(\mbox{\hyperlink{structarma__rng_1_1randi}{arma\_rng::randi<int>}}()) );}
\DoxyCodeLine{145   \}}
\DoxyCodeLine{146 }
\DoxyCodeLine{147 }
\DoxyCodeLine{148 }
\DoxyCodeLine{149 \textcolor{keyword}{template}<\textcolor{keyword}{typename} eT>}
\DoxyCodeLine{150 \textcolor{keyword}{inline}}
\DoxyCodeLine{151 eT}
\DoxyCodeLine{152 \mbox{\hyperlink{classop__chi2rnd__varying__df}{op\_chi2rnd\_varying\_df<eT>::operator()}}(\textcolor{keyword}{const} eT df)}
\DoxyCodeLine{153   \{}
\DoxyCodeLine{154   arma\_extra\_debug\_sigprint();}
\DoxyCodeLine{155   }
\DoxyCodeLine{156   \textcolor{comment}{// as C++11 doesn't seem to provide a way to explicitly set the parameter}}
\DoxyCodeLine{157   \textcolor{comment}{// of an existing chi\_squared\_distribution object,}}
\DoxyCodeLine{158   \textcolor{comment}{// we need to create a new object each time}}
\DoxyCodeLine{159   }
\DoxyCodeLine{160   \textcolor{keywordflow}{if}(df > eT(0))}
\DoxyCodeLine{161     \{}
\DoxyCodeLine{162     std::chi\_squared\_distribution<eT> distr(df);}
\DoxyCodeLine{163     }
\DoxyCodeLine{164     \textcolor{keywordflow}{return} eT( distr(motor) );}
\DoxyCodeLine{165     \}}
\DoxyCodeLine{166   \textcolor{keywordflow}{else}}
\DoxyCodeLine{167     \{}
\DoxyCodeLine{168     \textcolor{keywordflow}{return} \mbox{\hyperlink{classDatum}{Datum<eT>::nan}};}
\DoxyCodeLine{169     \}}
\DoxyCodeLine{170   \}}
\DoxyCodeLine{171 }
\DoxyCodeLine{172 }
\DoxyCodeLine{173 }

\end{DoxyCode}
