\hypertarget{arma__rng__cxx98_8hpp_source}{}\doxysection{arma\+\_\+rng\+\_\+cxx98.\+hpp}
\label{arma__rng__cxx98_8hpp_source}\index{/Users/motiwari/Desktop/BanditPAM/headers/carma/extern/armadillo-\/code/include/armadillo\_bits/arma\_rng\_cxx98.hpp@{/Users/motiwari/Desktop/BanditPAM/headers/carma/extern/armadillo-\/code/include/armadillo\_bits/arma\_rng\_cxx98.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{// Copyright 2008-\/2016 Conrad Sanderson (http://conradsanderson.id.au)}}
\DoxyCodeLine{2 \textcolor{comment}{// Copyright 2008-\/2016 National ICT Australia (NICTA)}}
\DoxyCodeLine{3 \textcolor{comment}{// }}
\DoxyCodeLine{4 \textcolor{comment}{// Licensed under the Apache License, Version 2.0 (the "{}License"{});}}
\DoxyCodeLine{5 \textcolor{comment}{// you may not use this file except in compliance with the License.}}
\DoxyCodeLine{6 \textcolor{comment}{// You may obtain a copy of the License at}}
\DoxyCodeLine{7 \textcolor{comment}{// http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{8 \textcolor{comment}{// }}
\DoxyCodeLine{9 \textcolor{comment}{// Unless required by applicable law or agreed to in writing, software}}
\DoxyCodeLine{10 \textcolor{comment}{// distributed under the License is distributed on an "{}AS IS"{} BASIS,}}
\DoxyCodeLine{11 \textcolor{comment}{// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.}}
\DoxyCodeLine{12 \textcolor{comment}{// See the License for the specific language governing permissions and}}
\DoxyCodeLine{13 \textcolor{comment}{// limitations under the License.}}
\DoxyCodeLine{14 \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{15 }
\DoxyCodeLine{16 }
\DoxyCodeLine{19 }
\DoxyCodeLine{20 }
\DoxyCodeLine{21 }
\DoxyCodeLine{22 \textcolor{keyword}{class }\mbox{\hyperlink{classarma__rng__cxx98}{arma\_rng\_cxx98}}}
\DoxyCodeLine{23   \{}
\DoxyCodeLine{24   \textcolor{keyword}{public}:}
\DoxyCodeLine{25   }
\DoxyCodeLine{26   \textcolor{keyword}{typedef} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} seed\_type;}
\DoxyCodeLine{27   }
\DoxyCodeLine{28   \textcolor{keyword}{inline} \textcolor{keyword}{static} \textcolor{keywordtype}{void} set\_seed(\textcolor{keyword}{const} seed\_type val);}
\DoxyCodeLine{29   }
\DoxyCodeLine{30   arma\_inline \textcolor{keyword}{static} \textcolor{keywordtype}{int}    randi\_val();}
\DoxyCodeLine{31   arma\_inline \textcolor{keyword}{static} \textcolor{keywordtype}{double} randu\_val();}
\DoxyCodeLine{32        \textcolor{keyword}{inline} \textcolor{keyword}{static} \textcolor{keywordtype}{double} randn\_val();}
\DoxyCodeLine{33   }
\DoxyCodeLine{34   \textcolor{keyword}{template}<\textcolor{keyword}{typename} eT>}
\DoxyCodeLine{35   \textcolor{keyword}{inline} \textcolor{keyword}{static} \textcolor{keywordtype}{void} randn\_dual\_val(eT\& out1, eT\& out2);}
\DoxyCodeLine{36   }
\DoxyCodeLine{37   \textcolor{keyword}{template}<\textcolor{keyword}{typename} eT>}
\DoxyCodeLine{38   \textcolor{keyword}{inline} \textcolor{keyword}{static} \textcolor{keywordtype}{void} randi\_fill(eT* mem, \textcolor{keyword}{const} uword N, \textcolor{keyword}{const} \textcolor{keywordtype}{int} a, \textcolor{keyword}{const} \textcolor{keywordtype}{int} b);}
\DoxyCodeLine{39   }
\DoxyCodeLine{40   \textcolor{keyword}{inline} \textcolor{keyword}{static} \textcolor{keywordtype}{int} randi\_max\_val();}
\DoxyCodeLine{41   \};}
\DoxyCodeLine{42 }
\DoxyCodeLine{43 }
\DoxyCodeLine{44 }
\DoxyCodeLine{45 \textcolor{keyword}{inline}}
\DoxyCodeLine{46 \textcolor{keywordtype}{void}}
\DoxyCodeLine{47 arma\_rng\_cxx98::set\_seed(\textcolor{keyword}{const} arma\_rng\_cxx98::seed\_type val)}
\DoxyCodeLine{48   \{}
\DoxyCodeLine{49   std::srand(val);}
\DoxyCodeLine{50   \}}
\DoxyCodeLine{51 }
\DoxyCodeLine{52 }
\DoxyCodeLine{53 }
\DoxyCodeLine{54 arma\_inline}
\DoxyCodeLine{55 \textcolor{keywordtype}{int}}
\DoxyCodeLine{56 arma\_rng\_cxx98::randi\_val()}
\DoxyCodeLine{57   \{}
\DoxyCodeLine{58 \textcolor{preprocessor}{  \#if (RAND\_MAX == 32767)}}
\DoxyCodeLine{59     \{}
\DoxyCodeLine{60     \textcolor{comment}{// NOTE: this is a better-\/than-\/nothing solution}}
\DoxyCodeLine{61     \textcolor{comment}{// NOTE: see also arma\_rng\_cxx98::randi\_max\_val()}}
\DoxyCodeLine{62     }
\DoxyCodeLine{63     u32 val1 = u32(std::rand());}
\DoxyCodeLine{64     u32 val2 = u32(std::rand());}
\DoxyCodeLine{65     }
\DoxyCodeLine{66     val1 <<= 15;}
\DoxyCodeLine{67     }
\DoxyCodeLine{68     \textcolor{keywordflow}{return} (val1 | val2);}
\DoxyCodeLine{69     \}}
\DoxyCodeLine{70 \textcolor{preprocessor}{  \#else}}
\DoxyCodeLine{71     \{}
\DoxyCodeLine{72     \textcolor{keywordflow}{return} std::rand();}
\DoxyCodeLine{73     \}}
\DoxyCodeLine{74 \textcolor{preprocessor}{  \#endif}}
\DoxyCodeLine{75   \}}
\DoxyCodeLine{76 }
\DoxyCodeLine{77 }
\DoxyCodeLine{78 }
\DoxyCodeLine{79 arma\_inline}
\DoxyCodeLine{80 \textcolor{keywordtype}{double}}
\DoxyCodeLine{81 arma\_rng\_cxx98::randu\_val()}
\DoxyCodeLine{82   \{}
\DoxyCodeLine{83   \textcolor{keywordflow}{return} double( \textcolor{keywordtype}{double}(randi\_val()) * ( \textcolor{keywordtype}{double}(1) / \textcolor{keywordtype}{double}(randi\_max\_val()) ) );}
\DoxyCodeLine{84   \}}
\DoxyCodeLine{85 }
\DoxyCodeLine{86 }
\DoxyCodeLine{87 }
\DoxyCodeLine{88 \textcolor{keyword}{inline}}
\DoxyCodeLine{89 \textcolor{keywordtype}{double}}
\DoxyCodeLine{90 arma\_rng\_cxx98::randn\_val()}
\DoxyCodeLine{91   \{}
\DoxyCodeLine{92   \textcolor{comment}{// polar form of the Box-\/Muller transformation:}}
\DoxyCodeLine{93   \textcolor{comment}{// http://en.wikipedia.org/wiki/Box-\/Muller\_transformation}}
\DoxyCodeLine{94   \textcolor{comment}{// http://en.wikipedia.org/wiki/Marsaglia\_polar\_method}}
\DoxyCodeLine{95   }
\DoxyCodeLine{96   \textcolor{keywordtype}{double} tmp1 = double(0);}
\DoxyCodeLine{97   \textcolor{keywordtype}{double} tmp2 = double(0);}
\DoxyCodeLine{98   \textcolor{keywordtype}{double} w    = double(0);}
\DoxyCodeLine{99   }
\DoxyCodeLine{100   \textcolor{keywordflow}{do}}
\DoxyCodeLine{101     \{}
\DoxyCodeLine{102     tmp1 = double(2) * double(randi\_val()) * (double(1) / double(randi\_max\_val())) -\/ \textcolor{keywordtype}{double}(1);}
\DoxyCodeLine{103     tmp2 = double(2) * double(randi\_val()) * (double(1) / double(randi\_max\_val())) -\/ \textcolor{keywordtype}{double}(1);}
\DoxyCodeLine{104     }
\DoxyCodeLine{105     w = tmp1*tmp1 + tmp2*tmp2;}
\DoxyCodeLine{106     \}}
\DoxyCodeLine{107   \textcolor{keywordflow}{while}( w >= \textcolor{keywordtype}{double}(1) );}
\DoxyCodeLine{108   }
\DoxyCodeLine{109   \textcolor{keywordflow}{return} double( tmp1 * std::sqrt( (\textcolor{keywordtype}{double}(-\/2) * std::log(w)) / w) );}
\DoxyCodeLine{110   \}}
\DoxyCodeLine{111 }
\DoxyCodeLine{112 }
\DoxyCodeLine{113 }
\DoxyCodeLine{114 \textcolor{keyword}{template}<\textcolor{keyword}{typename} eT>}
\DoxyCodeLine{115 \textcolor{keyword}{inline}}
\DoxyCodeLine{116 \textcolor{keywordtype}{void}}
\DoxyCodeLine{117 arma\_rng\_cxx98::randn\_dual\_val(eT\& out1, eT\& out2)}
\DoxyCodeLine{118   \{}
\DoxyCodeLine{119   \textcolor{comment}{// make sure we are internally using at least floats}}
\DoxyCodeLine{120   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} promote\_type<eT,float>::result eTp;}
\DoxyCodeLine{121   }
\DoxyCodeLine{122   eTp tmp1 = eTp(0);}
\DoxyCodeLine{123   eTp tmp2 = eTp(0);}
\DoxyCodeLine{124   eTp w    = eTp(0);}
\DoxyCodeLine{125   }
\DoxyCodeLine{126   \textcolor{keywordflow}{do}}
\DoxyCodeLine{127     \{}
\DoxyCodeLine{128     tmp1 = eTp(2) * eTp(randi\_val()) * (eTp(1) / eTp(randi\_max\_val())) -\/ eTp(1);}
\DoxyCodeLine{129     tmp2 = eTp(2) * eTp(randi\_val()) * (eTp(1) / eTp(randi\_max\_val())) -\/ eTp(1);}
\DoxyCodeLine{130     }
\DoxyCodeLine{131     w = tmp1*tmp1 + tmp2*tmp2;}
\DoxyCodeLine{132     \}}
\DoxyCodeLine{133   \textcolor{keywordflow}{while}( w >= eTp(1) );}
\DoxyCodeLine{134   }
\DoxyCodeLine{135   \textcolor{keyword}{const} eTp k = std::sqrt( (eTp(-\/2) * std::log(w)) / w);}
\DoxyCodeLine{136   }
\DoxyCodeLine{137   out1 = eT(tmp1*k);}
\DoxyCodeLine{138   out2 = eT(tmp2*k);}
\DoxyCodeLine{139   \}}
\DoxyCodeLine{140 }
\DoxyCodeLine{141 }
\DoxyCodeLine{142 }
\DoxyCodeLine{143 \textcolor{keyword}{template}<\textcolor{keyword}{typename} eT>}
\DoxyCodeLine{144 \textcolor{keyword}{inline}}
\DoxyCodeLine{145 \textcolor{keywordtype}{void}}
\DoxyCodeLine{146 arma\_rng\_cxx98::randi\_fill(eT* mem, \textcolor{keyword}{const} uword N, \textcolor{keyword}{const} \textcolor{keywordtype}{int} a, \textcolor{keyword}{const} \textcolor{keywordtype}{int} b)}
\DoxyCodeLine{147   \{}
\DoxyCodeLine{148   \textcolor{keywordflow}{if}( (a == 0) \&\& (b == RAND\_MAX) )}
\DoxyCodeLine{149     \{}
\DoxyCodeLine{150     \textcolor{keywordflow}{for}(uword i=0; i<N; ++i)}
\DoxyCodeLine{151       \{}
\DoxyCodeLine{152       mem[i] = eT(std::rand());}
\DoxyCodeLine{153       \}}
\DoxyCodeLine{154     \}}
\DoxyCodeLine{155   \textcolor{keywordflow}{else}}
\DoxyCodeLine{156     \{}
\DoxyCodeLine{157     \textcolor{keyword}{const} uword length = uword(b -\/ a + 1);}
\DoxyCodeLine{158     }
\DoxyCodeLine{159     \textcolor{keyword}{const} \textcolor{keywordtype}{double} scale = double(length) / double(randi\_max\_val());}
\DoxyCodeLine{160     }
\DoxyCodeLine{161     \textcolor{keywordflow}{for}(uword i=0; i<N; ++i)}
\DoxyCodeLine{162       \{}
\DoxyCodeLine{163       mem[i] = eT((\mbox{\hyperlink{group__fn__min_gac69a480b4c714f7ecbb0620aaa757c8a}{std::min}})( b, (\textcolor{keywordtype}{int}( \textcolor{keywordtype}{double}(randi\_val()) * scale ) + a) ));}
\DoxyCodeLine{164       \}}
\DoxyCodeLine{165     \}}
\DoxyCodeLine{166   \}}
\DoxyCodeLine{167 }
\DoxyCodeLine{168 }
\DoxyCodeLine{169 }
\DoxyCodeLine{170 \textcolor{keyword}{inline}}
\DoxyCodeLine{171 \textcolor{keywordtype}{int}}
\DoxyCodeLine{172 arma\_rng\_cxx98::randi\_max\_val()}
\DoxyCodeLine{173   \{}
\DoxyCodeLine{174 \textcolor{preprocessor}{  \#if (RAND\_MAX == 32767)}}
\DoxyCodeLine{175     \textcolor{keywordflow}{return} ( (32767 << 15) + 32767);}
\DoxyCodeLine{176 \textcolor{preprocessor}{  \#else}}
\DoxyCodeLine{177     \textcolor{keywordflow}{return} RAND\_MAX;}
\DoxyCodeLine{178 \textcolor{preprocessor}{  \#endif}}
\DoxyCodeLine{179   \}}
\DoxyCodeLine{180 }
\DoxyCodeLine{181 }
\DoxyCodeLine{182 }

\end{DoxyCode}
