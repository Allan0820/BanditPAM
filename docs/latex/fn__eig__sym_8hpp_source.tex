\hypertarget{fn__eig__sym_8hpp_source}{}\doxysection{fn\+\_\+eig\+\_\+sym.\+hpp}
\label{fn__eig__sym_8hpp_source}\index{/Users/motiwari/Desktop/BanditPAM/headers/carma/extern/armadillo-\/code/include/armadillo\_bits/fn\_eig\_sym.hpp@{/Users/motiwari/Desktop/BanditPAM/headers/carma/extern/armadillo-\/code/include/armadillo\_bits/fn\_eig\_sym.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{// Copyright 2008-\/2016 Conrad Sanderson (http://conradsanderson.id.au)}}
\DoxyCodeLine{2 \textcolor{comment}{// Copyright 2008-\/2016 National ICT Australia (NICTA)}}
\DoxyCodeLine{3 \textcolor{comment}{// }}
\DoxyCodeLine{4 \textcolor{comment}{// Licensed under the Apache License, Version 2.0 (the "{}License"{});}}
\DoxyCodeLine{5 \textcolor{comment}{// you may not use this file except in compliance with the License.}}
\DoxyCodeLine{6 \textcolor{comment}{// You may obtain a copy of the License at}}
\DoxyCodeLine{7 \textcolor{comment}{// http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{8 \textcolor{comment}{// }}
\DoxyCodeLine{9 \textcolor{comment}{// Unless required by applicable law or agreed to in writing, software}}
\DoxyCodeLine{10 \textcolor{comment}{// distributed under the License is distributed on an "{}AS IS"{} BASIS,}}
\DoxyCodeLine{11 \textcolor{comment}{// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.}}
\DoxyCodeLine{12 \textcolor{comment}{// See the License for the specific language governing permissions and}}
\DoxyCodeLine{13 \textcolor{comment}{// limitations under the License.}}
\DoxyCodeLine{14 \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{15 }
\DoxyCodeLine{16 }
\DoxyCodeLine{19 }
\DoxyCodeLine{20 }
\DoxyCodeLine{22 \textcolor{keyword}{template}<\textcolor{keyword}{typename} T1>}
\DoxyCodeLine{23 \textcolor{keyword}{inline}}
\DoxyCodeLine{24 \textcolor{keyword}{typename} \mbox{\hyperlink{structenable__if2}{enable\_if2< is\_supported\_blas\_type<typename T1::elem\_type>::value}}, \textcolor{keywordtype}{bool} >::result}
\DoxyCodeLine{25 \mbox{\hyperlink{group__fn__eig__sym_gaee6769932f2f2a687c199d882b128403}{eig\_sym}}}
\DoxyCodeLine{26   (}
\DoxyCodeLine{27          \mbox{\hyperlink{classCol}{Col<typename T1::pod\_type>}}\&     eigval,}
\DoxyCodeLine{28   \textcolor{keyword}{const} \mbox{\hyperlink{structBase}{Base<typename T1::elem\_type,T1>}}\& X}
\DoxyCodeLine{29   )}
\DoxyCodeLine{30   \{}
\DoxyCodeLine{31   arma\_extra\_debug\_sigprint();}
\DoxyCodeLine{32   }
\DoxyCodeLine{33   \textcolor{comment}{// unwrap\_check not used as T1::elem\_type and T1::pod\_type may not be the same.}}
\DoxyCodeLine{34   \textcolor{comment}{// furthermore, it doesn't matter if X is an alias of eigval, as auxlib::eig\_sym() makes a copy of X}}
\DoxyCodeLine{35   }
\DoxyCodeLine{36   \textcolor{keyword}{const} \textcolor{keywordtype}{bool} status = \mbox{\hyperlink{group__auxlib_ga69420c7838466b350898295a4ef72cfc}{auxlib::eig\_sym}}(eigval, X);}
\DoxyCodeLine{37   }
\DoxyCodeLine{38   \textcolor{keywordflow}{if}(status == \textcolor{keyword}{false})}
\DoxyCodeLine{39     \{}
\DoxyCodeLine{40     eigval.soft\_reset();}
\DoxyCodeLine{41     arma\_debug\_warn\_level(3, \textcolor{stringliteral}{"{}eig\_sym(): decomposition failed"{}});}
\DoxyCodeLine{42     \}}
\DoxyCodeLine{43   }
\DoxyCodeLine{44   \textcolor{keywordflow}{return} status;}
\DoxyCodeLine{45   \}}
\DoxyCodeLine{46 }
\DoxyCodeLine{47 }
\DoxyCodeLine{48 }
\DoxyCodeLine{50 \textcolor{keyword}{template}<\textcolor{keyword}{typename} T1>}
\DoxyCodeLine{51 arma\_warn\_unused}
\DoxyCodeLine{52 \textcolor{keyword}{inline}}
\DoxyCodeLine{53 \textcolor{keyword}{typename} \mbox{\hyperlink{structenable__if2}{enable\_if2< is\_supported\_blas\_type<typename T1::elem\_type>::value}}, \mbox{\hyperlink{classCol}{Col<typename T1::pod\_type>}} >::result}
\DoxyCodeLine{54 \mbox{\hyperlink{group__fn__eig__sym_gaee6769932f2f2a687c199d882b128403}{eig\_sym}}}
\DoxyCodeLine{55   (}
\DoxyCodeLine{56   \textcolor{keyword}{const} \mbox{\hyperlink{structBase}{Base<typename T1::elem\_type,T1>}}\& X}
\DoxyCodeLine{57   )}
\DoxyCodeLine{58   \{}
\DoxyCodeLine{59   arma\_extra\_debug\_sigprint();}
\DoxyCodeLine{60   }
\DoxyCodeLine{61   \mbox{\hyperlink{classCol}{Col<typename T1::pod\_type>}} out;}
\DoxyCodeLine{62   \textcolor{keyword}{const} \textcolor{keywordtype}{bool} status = \mbox{\hyperlink{group__auxlib_ga69420c7838466b350898295a4ef72cfc}{auxlib::eig\_sym}}(out, X);}
\DoxyCodeLine{63 }
\DoxyCodeLine{64   \textcolor{keywordflow}{if}(status == \textcolor{keyword}{false})}
\DoxyCodeLine{65     \{}
\DoxyCodeLine{66     out.soft\_reset();}
\DoxyCodeLine{67     arma\_stop\_runtime\_error(\textcolor{stringliteral}{"{}eig\_sym(): decomposition failed"{}});}
\DoxyCodeLine{68     \}}
\DoxyCodeLine{69   }
\DoxyCodeLine{70   \textcolor{keywordflow}{return} out;}
\DoxyCodeLine{71   \}}
\DoxyCodeLine{72 }
\DoxyCodeLine{73 }
\DoxyCodeLine{74 }
\DoxyCodeLine{76 \textcolor{keyword}{template}<\textcolor{keyword}{typename} eT>}
\DoxyCodeLine{77 \textcolor{keyword}{inline}}
\DoxyCodeLine{78 \textcolor{keywordtype}{bool}}
\DoxyCodeLine{79 \mbox{\hyperlink{group__fn__eig__sym_gac55fe3206226539aa46643bc8ac9abe2}{eig\_sym\_helper}}}
\DoxyCodeLine{80   (}
\DoxyCodeLine{81         \mbox{\hyperlink{classCol}{Col}}<\textcolor{keyword}{typename} get\_pod\_type<eT>::result>\& eigval,}
\DoxyCodeLine{82         \mbox{\hyperlink{classMat}{Mat<eT>}}\&                                eigvec,}
\DoxyCodeLine{83   \textcolor{keyword}{const} \mbox{\hyperlink{classMat}{Mat<eT>}}\&                                X,}
\DoxyCodeLine{84   \textcolor{keyword}{const} \textcolor{keywordtype}{char}                                    method\_sig,}
\DoxyCodeLine{85   \textcolor{keyword}{const} \textcolor{keywordtype}{char}*                                   caller\_sig}
\DoxyCodeLine{86   )}
\DoxyCodeLine{87   \{}
\DoxyCodeLine{88   arma\_extra\_debug\_sigprint();}
\DoxyCodeLine{89   }
\DoxyCodeLine{90   \textcolor{comment}{// if(auxlib::rudimentary\_sym\_check(X) == false)}}
\DoxyCodeLine{91   \textcolor{comment}{//   \{}}
\DoxyCodeLine{92   \textcolor{comment}{//   if(is\_cx<eT>::no )  \{ arma\_debug\_warn\_level(1, caller\_sig, "{}: given matrix is not symmetric"{}); \}}}
\DoxyCodeLine{93   \textcolor{comment}{//   if(is\_cx<eT>::yes)  \{ arma\_debug\_warn\_level(1, caller\_sig, "{}: given matrix is not hermitian"{}); \}}}
\DoxyCodeLine{94   \textcolor{comment}{//   return false;}}
\DoxyCodeLine{95   \textcolor{comment}{//   \}}}
\DoxyCodeLine{96   }
\DoxyCodeLine{97   \textcolor{keywordflow}{if}((arma\_config::debug) \&\& (auxlib::rudimentary\_sym\_check(X) == \textcolor{keyword}{false}))}
\DoxyCodeLine{98     \{}
\DoxyCodeLine{99     \textcolor{keywordflow}{if}(\mbox{\hyperlink{structis__cx}{is\_cx<eT>::no}} )  \{ arma\_debug\_warn\_level(1, caller\_sig, \textcolor{stringliteral}{"{}: given matrix is not symmetric"{}}); \}}
\DoxyCodeLine{100     \textcolor{keywordflow}{if}(\mbox{\hyperlink{structis__cx}{is\_cx<eT>::yes}})  \{ arma\_debug\_warn\_level(1, caller\_sig, \textcolor{stringliteral}{"{}: given matrix is not hermitian"{}}); \}}
\DoxyCodeLine{101     \}}
\DoxyCodeLine{102   }
\DoxyCodeLine{103   \textcolor{keywordtype}{bool} status = \textcolor{keyword}{false};}
\DoxyCodeLine{104   }
\DoxyCodeLine{105   \textcolor{keywordflow}{if}(method\_sig == \textcolor{charliteral}{'d'}) \{ status = \mbox{\hyperlink{group__auxlib_gaa1d75898809ba17eaff0143e6ca8ae88}{auxlib::eig\_sym\_dc}}(eigval, eigvec, X); \}}
\DoxyCodeLine{106   }
\DoxyCodeLine{107   \textcolor{keywordflow}{if}(status == \textcolor{keyword}{false})   \{ status = \mbox{\hyperlink{group__auxlib_ga69420c7838466b350898295a4ef72cfc}{auxlib::eig\_sym}}(eigval, eigvec, X);    \}}
\DoxyCodeLine{108   }
\DoxyCodeLine{109   \textcolor{keywordflow}{return} status;}
\DoxyCodeLine{110   \}}
\DoxyCodeLine{111 }
\DoxyCodeLine{112 }
\DoxyCodeLine{113 }
\DoxyCodeLine{115 \textcolor{keyword}{template}<\textcolor{keyword}{typename} T1> }
\DoxyCodeLine{116 \textcolor{keyword}{inline}}
\DoxyCodeLine{117 \textcolor{keyword}{typename} \mbox{\hyperlink{structenable__if2}{enable\_if2< is\_supported\_blas\_type<typename T1::elem\_type>::value}}, \textcolor{keywordtype}{bool} >::result}
\DoxyCodeLine{118 \mbox{\hyperlink{group__fn__eig__sym_gaee6769932f2f2a687c199d882b128403}{eig\_sym}}}
\DoxyCodeLine{119   (}
\DoxyCodeLine{120          \mbox{\hyperlink{classCol}{Col<typename T1::pod\_type>}}\&     eigval,}
\DoxyCodeLine{121          \mbox{\hyperlink{classMat}{Mat<typename T1::elem\_type>}}\&    eigvec,}
\DoxyCodeLine{122   \textcolor{keyword}{const} \mbox{\hyperlink{structBase}{Base<typename T1::elem\_type,T1>}}\& expr,}
\DoxyCodeLine{123   \textcolor{keyword}{const} \textcolor{keywordtype}{char}* method =                   \textcolor{stringliteral}{"{}dc"{}}}
\DoxyCodeLine{124   )}
\DoxyCodeLine{125   \{}
\DoxyCodeLine{126   arma\_extra\_debug\_sigprint();}
\DoxyCodeLine{127   }
\DoxyCodeLine{128   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} T1::elem\_type eT;}
\DoxyCodeLine{129   }
\DoxyCodeLine{130   \textcolor{keyword}{const} \textcolor{keywordtype}{char} sig = (method != \textcolor{keyword}{nullptr}) ? method[0] : \textcolor{keywordtype}{char}(0);}
\DoxyCodeLine{131   }
\DoxyCodeLine{132   arma\_debug\_check( ((sig != \textcolor{charliteral}{'s'}) \&\& (sig != \textcolor{charliteral}{'d'})),         \textcolor{stringliteral}{"{}eig\_sym(): unknown method specified"{}}                             );}
\DoxyCodeLine{133   arma\_debug\_check( void\_ptr(\&eigval) == void\_ptr(\&eigvec), \textcolor{stringliteral}{"{}eig\_sym(): parameter 'eigval' is an alias of parameter 'eigvec'"{}} );}
\DoxyCodeLine{134   }
\DoxyCodeLine{135   \textcolor{keyword}{const} \mbox{\hyperlink{structquasi__unwrap}{quasi\_unwrap<T1>}} U(expr.get\_ref());}
\DoxyCodeLine{136   }
\DoxyCodeLine{137   \textcolor{keyword}{const} \textcolor{keywordtype}{bool} is\_alias = U.is\_alias(eigvec);}
\DoxyCodeLine{138   }
\DoxyCodeLine{139   \mbox{\hyperlink{classMat}{Mat<eT>}}  eigvec\_tmp;}
\DoxyCodeLine{140   \mbox{\hyperlink{classMat}{Mat<eT>}}\& eigvec\_out = (is\_alias == \textcolor{keyword}{false}) ? eigvec : eigvec\_tmp;}
\DoxyCodeLine{141   }
\DoxyCodeLine{142   \textcolor{keyword}{const} \textcolor{keywordtype}{bool} status = \mbox{\hyperlink{group__fn__eig__sym_gac55fe3206226539aa46643bc8ac9abe2}{eig\_sym\_helper}}(eigval, eigvec\_out, U.M, sig, \textcolor{stringliteral}{"{}eig\_sym()"{}});}
\DoxyCodeLine{143   }
\DoxyCodeLine{144   \textcolor{keywordflow}{if}(status == \textcolor{keyword}{false})}
\DoxyCodeLine{145     \{}
\DoxyCodeLine{146     eigval.soft\_reset();}
\DoxyCodeLine{147     eigvec.soft\_reset();}
\DoxyCodeLine{148     arma\_debug\_warn\_level(3, \textcolor{stringliteral}{"{}eig\_sym(): decomposition failed"{}});}
\DoxyCodeLine{149     \}}
\DoxyCodeLine{150   \textcolor{keywordflow}{else}}
\DoxyCodeLine{151     \{}
\DoxyCodeLine{152     \textcolor{keywordflow}{if}(is\_alias)  \{ eigvec.\mbox{\hyperlink{group__Mat_gaff06a75771f96605f7cc4f8c6b3fceb7}{steal\_mem}}(eigvec\_tmp); \}}
\DoxyCodeLine{153     \}}
\DoxyCodeLine{154   }
\DoxyCodeLine{155   \textcolor{keywordflow}{return} status;}
\DoxyCodeLine{156   \}}
\DoxyCodeLine{157 }
\DoxyCodeLine{158 }
\DoxyCodeLine{159 }

\end{DoxyCode}
