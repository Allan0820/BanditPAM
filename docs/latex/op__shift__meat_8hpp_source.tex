\hypertarget{op__shift__meat_8hpp_source}{}\doxysection{op\+\_\+shift\+\_\+meat.\+hpp}
\label{op__shift__meat_8hpp_source}\index{/Users/motiwari/Desktop/BanditPAM/headers/carma/extern/armadillo-\/code/include/armadillo\_bits/op\_shift\_meat.hpp@{/Users/motiwari/Desktop/BanditPAM/headers/carma/extern/armadillo-\/code/include/armadillo\_bits/op\_shift\_meat.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{// Copyright 2008-\/2016 Conrad Sanderson (http://conradsanderson.id.au)}}
\DoxyCodeLine{2 \textcolor{comment}{// Copyright 2008-\/2016 National ICT Australia (NICTA)}}
\DoxyCodeLine{3 \textcolor{comment}{// }}
\DoxyCodeLine{4 \textcolor{comment}{// Licensed under the Apache License, Version 2.0 (the "{}License"{});}}
\DoxyCodeLine{5 \textcolor{comment}{// you may not use this file except in compliance with the License.}}
\DoxyCodeLine{6 \textcolor{comment}{// You may obtain a copy of the License at}}
\DoxyCodeLine{7 \textcolor{comment}{// http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{8 \textcolor{comment}{// }}
\DoxyCodeLine{9 \textcolor{comment}{// Unless required by applicable law or agreed to in writing, software}}
\DoxyCodeLine{10 \textcolor{comment}{// distributed under the License is distributed on an "{}AS IS"{} BASIS,}}
\DoxyCodeLine{11 \textcolor{comment}{// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.}}
\DoxyCodeLine{12 \textcolor{comment}{// See the License for the specific language governing permissions and}}
\DoxyCodeLine{13 \textcolor{comment}{// limitations under the License.}}
\DoxyCodeLine{14 \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{15 }
\DoxyCodeLine{16 }
\DoxyCodeLine{17 }
\DoxyCodeLine{20 }
\DoxyCodeLine{21 }
\DoxyCodeLine{22 }
\DoxyCodeLine{23 \textcolor{keyword}{template}<\textcolor{keyword}{typename} T1>}
\DoxyCodeLine{24 \textcolor{keyword}{inline}}
\DoxyCodeLine{25 \textcolor{keywordtype}{void}}
\DoxyCodeLine{26 op\_shift\_vec::apply(\mbox{\hyperlink{classMat}{Mat<typename T1::elem\_type>}}\& out, \textcolor{keyword}{const} \mbox{\hyperlink{classOp}{Op<T1,op\_shift\_vec>}}\& in)}
\DoxyCodeLine{27   \{}
\DoxyCodeLine{28   arma\_extra\_debug\_sigprint();}
\DoxyCodeLine{29   }
\DoxyCodeLine{30   \textcolor{keyword}{const} \mbox{\hyperlink{structunwrap}{unwrap<T1>}} U(in.\mbox{\hyperlink{classOp_af7ab7221b6e233cdd38b9f9b69f301ce}{m}});}
\DoxyCodeLine{31   }
\DoxyCodeLine{32   \textcolor{keyword}{const} uword \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} = in.\mbox{\hyperlink{classOp_a197cb9330fe0d72c976d6223514c4bd6}{aux\_uword\_a}};}
\DoxyCodeLine{33   \textcolor{keyword}{const} uword neg = in.\mbox{\hyperlink{classOp_a489b7adb11aa809f594055a640713133}{aux\_uword\_b}};}
\DoxyCodeLine{34   }
\DoxyCodeLine{35   \textcolor{keyword}{const} uword dim = (T1::is\_xvec) ? uword(U.M.is\_rowvec() ? 1 : 0) : uword((T1::is\_row) ? 1 : 0);}
\DoxyCodeLine{36   }
\DoxyCodeLine{37   op\_shift::apply\_direct(out, U.M, \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}, neg, dim);}
\DoxyCodeLine{38   \}}
\DoxyCodeLine{39 }
\DoxyCodeLine{40 }
\DoxyCodeLine{41 }
\DoxyCodeLine{42 \textcolor{keyword}{template}<\textcolor{keyword}{typename} T1>}
\DoxyCodeLine{43 \textcolor{keyword}{inline}}
\DoxyCodeLine{44 \textcolor{keywordtype}{void}}
\DoxyCodeLine{45 op\_shift::apply(\mbox{\hyperlink{classMat}{Mat<typename T1::elem\_type>}}\& out, \textcolor{keyword}{const} \mbox{\hyperlink{classOp}{Op<T1,op\_shift>}}\& in)}
\DoxyCodeLine{46   \{}
\DoxyCodeLine{47   arma\_extra\_debug\_sigprint();}
\DoxyCodeLine{48   }
\DoxyCodeLine{49   \textcolor{keyword}{const} \mbox{\hyperlink{structunwrap}{unwrap<T1>}} U(in.\mbox{\hyperlink{classOp_af7ab7221b6e233cdd38b9f9b69f301ce}{m}});}
\DoxyCodeLine{50   }
\DoxyCodeLine{51   \textcolor{keyword}{const} uword \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} = in.\mbox{\hyperlink{classOp_a197cb9330fe0d72c976d6223514c4bd6}{aux\_uword\_a}};}
\DoxyCodeLine{52   \textcolor{keyword}{const} uword neg = in.\mbox{\hyperlink{classOp_a489b7adb11aa809f594055a640713133}{aux\_uword\_b}};}
\DoxyCodeLine{53   \textcolor{keyword}{const} uword dim = in.\mbox{\hyperlink{classOp_a117c1db1becf33ed3cf176d5651ed14e}{aux\_uword\_c}};}
\DoxyCodeLine{54   }
\DoxyCodeLine{55   arma\_debug\_check( (dim > 1), \textcolor{stringliteral}{"{}shift(): parameter 'dim' must be 0 or 1"{}} );}
\DoxyCodeLine{56   }
\DoxyCodeLine{57   op\_shift::apply\_direct(out, U.M, \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}, neg, dim);}
\DoxyCodeLine{58   \}}
\DoxyCodeLine{59 }
\DoxyCodeLine{60 }
\DoxyCodeLine{61 }
\DoxyCodeLine{62 \textcolor{keyword}{template}<\textcolor{keyword}{typename} eT>}
\DoxyCodeLine{63 \textcolor{keyword}{inline}}
\DoxyCodeLine{64 \textcolor{keywordtype}{void}}
\DoxyCodeLine{65 op\_shift::apply\_direct(\mbox{\hyperlink{classMat}{Mat<eT>}}\& out, \textcolor{keyword}{const} \mbox{\hyperlink{classMat}{Mat<eT>}}\& X, \textcolor{keyword}{const} uword \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}, \textcolor{keyword}{const} uword neg, \textcolor{keyword}{const} uword dim)}
\DoxyCodeLine{66   \{}
\DoxyCodeLine{67   arma\_extra\_debug\_sigprint();}
\DoxyCodeLine{68   }
\DoxyCodeLine{69   arma\_debug\_check\_bounds( ((dim == 0) \&\& (\mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} >= X.n\_rows)), \textcolor{stringliteral}{"{}shift(): shift amount out of bounds"{}} );}
\DoxyCodeLine{70   arma\_debug\_check\_bounds( ((dim == 1) \&\& (\mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} >= X.n\_cols)), \textcolor{stringliteral}{"{}shift(): shift amount out of bounds"{}} );}
\DoxyCodeLine{71   }
\DoxyCodeLine{72   \textcolor{keywordflow}{if}(\&out == \&X)}
\DoxyCodeLine{73     \{}
\DoxyCodeLine{74     op\_shift::apply\_alias(out, \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}, neg, dim);}
\DoxyCodeLine{75     \}}
\DoxyCodeLine{76   \textcolor{keywordflow}{else}}
\DoxyCodeLine{77     \{}
\DoxyCodeLine{78     op\_shift::apply\_noalias(out, X, \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}, neg, dim);}
\DoxyCodeLine{79     \}}
\DoxyCodeLine{80   \}}
\DoxyCodeLine{81 }
\DoxyCodeLine{82 }
\DoxyCodeLine{83 }
\DoxyCodeLine{84 \textcolor{keyword}{template}<\textcolor{keyword}{typename} eT>}
\DoxyCodeLine{85 \textcolor{keyword}{inline}}
\DoxyCodeLine{86 \textcolor{keywordtype}{void}}
\DoxyCodeLine{87 op\_shift::apply\_noalias(\mbox{\hyperlink{classMat}{Mat<eT>}}\& out, \textcolor{keyword}{const} \mbox{\hyperlink{classMat}{Mat<eT>}}\& X, \textcolor{keyword}{const} uword \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}, \textcolor{keyword}{const} uword neg, \textcolor{keyword}{const} uword dim)}
\DoxyCodeLine{88   \{}
\DoxyCodeLine{89   arma\_extra\_debug\_sigprint();}
\DoxyCodeLine{90   }
\DoxyCodeLine{91   out.\mbox{\hyperlink{group__Mat_ga9b739350523229ea160719b1ef106f96}{copy\_size}}(X);}
\DoxyCodeLine{92   }
\DoxyCodeLine{93   \textcolor{keyword}{const} uword X\_n\_rows = X.n\_rows;}
\DoxyCodeLine{94   \textcolor{keyword}{const} uword X\_n\_cols = X.n\_cols;}
\DoxyCodeLine{95   }
\DoxyCodeLine{96   \textcolor{keywordflow}{if}(dim == 0)}
\DoxyCodeLine{97     \{}
\DoxyCodeLine{98     \textcolor{keywordflow}{if}(neg == 0)}
\DoxyCodeLine{99       \{}
\DoxyCodeLine{100       \textcolor{keywordflow}{for}(uword col=0; col < X\_n\_cols; ++col)}
\DoxyCodeLine{101         \{}
\DoxyCodeLine{102               eT* out\_ptr = out.\mbox{\hyperlink{group__Mat_gad6a294c2ed4726f7b4b95e750ddfeb7a}{colptr}}(col);}
\DoxyCodeLine{103         \textcolor{keyword}{const} eT*   X\_ptr =   X.colptr(col);}
\DoxyCodeLine{104         }
\DoxyCodeLine{105         \textcolor{keywordflow}{for}(uword out\_row=\mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}, row=0; row < (X\_n\_rows -\/ \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}); ++row, ++out\_row)}
\DoxyCodeLine{106           \{}
\DoxyCodeLine{107           out\_ptr[out\_row] = X\_ptr[row];}
\DoxyCodeLine{108           \}}
\DoxyCodeLine{109         }
\DoxyCodeLine{110         \textcolor{keywordflow}{for}(uword out\_row=0, row=(X\_n\_rows -\/ \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}); row < X\_n\_rows; ++row, ++out\_row)}
\DoxyCodeLine{111           \{}
\DoxyCodeLine{112           out\_ptr[out\_row] = X\_ptr[row];}
\DoxyCodeLine{113           \}}
\DoxyCodeLine{114         \}}
\DoxyCodeLine{115       \}}
\DoxyCodeLine{116     \textcolor{keywordflow}{else}}
\DoxyCodeLine{117     \textcolor{keywordflow}{if}(neg == 1)}
\DoxyCodeLine{118       \{}
\DoxyCodeLine{119       \textcolor{keywordflow}{for}(uword col=0; col < X\_n\_cols; ++col)}
\DoxyCodeLine{120         \{}
\DoxyCodeLine{121               eT* out\_ptr = out.\mbox{\hyperlink{group__Mat_gad6a294c2ed4726f7b4b95e750ddfeb7a}{colptr}}(col);}
\DoxyCodeLine{122         \textcolor{keyword}{const} eT*   X\_ptr =   X.colptr(col);}
\DoxyCodeLine{123         }
\DoxyCodeLine{124         \textcolor{keywordflow}{for}(uword out\_row=0, row=\mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}; row < X\_n\_rows; ++row, ++out\_row)}
\DoxyCodeLine{125           \{}
\DoxyCodeLine{126           out\_ptr[out\_row] = X\_ptr[row];}
\DoxyCodeLine{127           \}}
\DoxyCodeLine{128         }
\DoxyCodeLine{129         \textcolor{keywordflow}{for}(uword out\_row=(X\_n\_rows-\/\mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}), row=0; row < \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}; ++row, ++out\_row)}
\DoxyCodeLine{130           \{}
\DoxyCodeLine{131           out\_ptr[out\_row] = X\_ptr[row];}
\DoxyCodeLine{132           \}}
\DoxyCodeLine{133         \}}
\DoxyCodeLine{134       \}}
\DoxyCodeLine{135     \}}
\DoxyCodeLine{136   \textcolor{keywordflow}{else}}
\DoxyCodeLine{137   \textcolor{keywordflow}{if}(dim == 1)}
\DoxyCodeLine{138     \{}
\DoxyCodeLine{139     \textcolor{keywordflow}{if}(neg == 0)}
\DoxyCodeLine{140       \{}
\DoxyCodeLine{141       \textcolor{keywordflow}{if}(X\_n\_rows == 1)}
\DoxyCodeLine{142         \{}
\DoxyCodeLine{143               eT* out\_ptr = out.\mbox{\hyperlink{group__Mat_gad5b1b46a9288e04128aa11c99cc2b444}{memptr}}();}
\DoxyCodeLine{144         \textcolor{keyword}{const} eT*   X\_ptr =   X.memptr();}
\DoxyCodeLine{145         }
\DoxyCodeLine{146         \textcolor{keywordflow}{for}(uword out\_col=\mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}, col=0; col < (X\_n\_cols -\/ \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}); ++col, ++out\_col)}
\DoxyCodeLine{147           \{}
\DoxyCodeLine{148           out\_ptr[out\_col] = X\_ptr[col];}
\DoxyCodeLine{149           \}}
\DoxyCodeLine{150         }
\DoxyCodeLine{151         \textcolor{keywordflow}{for}(uword out\_col=0, col=(X\_n\_cols -\/ \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}); col < X\_n\_cols; ++col, ++out\_col)}
\DoxyCodeLine{152           \{}
\DoxyCodeLine{153           out\_ptr[out\_col] = X\_ptr[col];}
\DoxyCodeLine{154           \}}
\DoxyCodeLine{155         \}}
\DoxyCodeLine{156       \textcolor{keywordflow}{else}}
\DoxyCodeLine{157         \{}
\DoxyCodeLine{158         \textcolor{keywordflow}{for}(uword out\_col=\mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}, col=0; col < (X\_n\_cols -\/ \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}); ++col, ++out\_col)}
\DoxyCodeLine{159           \{}
\DoxyCodeLine{160           arrayops::copy( out.\mbox{\hyperlink{group__Mat_gad6a294c2ed4726f7b4b95e750ddfeb7a}{colptr}}(out\_col), X.colptr(col), X\_n\_rows );}
\DoxyCodeLine{161           \}}
\DoxyCodeLine{162         }
\DoxyCodeLine{163         \textcolor{keywordflow}{for}(uword out\_col=0, col=(X\_n\_cols -\/ \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}); col < X\_n\_cols; ++col, ++out\_col)}
\DoxyCodeLine{164           \{}
\DoxyCodeLine{165           arrayops::copy( out.\mbox{\hyperlink{group__Mat_gad6a294c2ed4726f7b4b95e750ddfeb7a}{colptr}}(out\_col), X.colptr(col), X\_n\_rows );}
\DoxyCodeLine{166           \}}
\DoxyCodeLine{167         \}}
\DoxyCodeLine{168       \}}
\DoxyCodeLine{169     \textcolor{keywordflow}{else}}
\DoxyCodeLine{170     \textcolor{keywordflow}{if}(neg == 1)}
\DoxyCodeLine{171       \{}
\DoxyCodeLine{172       \textcolor{keywordflow}{if}(X\_n\_rows == 1)}
\DoxyCodeLine{173         \{}
\DoxyCodeLine{174               eT* out\_ptr = out.\mbox{\hyperlink{group__Mat_gad5b1b46a9288e04128aa11c99cc2b444}{memptr}}();}
\DoxyCodeLine{175         \textcolor{keyword}{const} eT*   X\_ptr =   X.memptr();}
\DoxyCodeLine{176         }
\DoxyCodeLine{177         \textcolor{keywordflow}{for}(uword out\_col=0, col=\mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}; col < X\_n\_cols; ++col, ++out\_col)}
\DoxyCodeLine{178           \{}
\DoxyCodeLine{179           out\_ptr[out\_col] = X\_ptr[col];}
\DoxyCodeLine{180           \}}
\DoxyCodeLine{181         }
\DoxyCodeLine{182         \textcolor{keywordflow}{for}(uword out\_col=(X\_n\_cols-\/\mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}), col=0; col < \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}; ++col, ++out\_col)}
\DoxyCodeLine{183           \{}
\DoxyCodeLine{184           out\_ptr[out\_col] = X\_ptr[col];}
\DoxyCodeLine{185           \}}
\DoxyCodeLine{186         \}}
\DoxyCodeLine{187       \textcolor{keywordflow}{else}}
\DoxyCodeLine{188         \{}
\DoxyCodeLine{189         \textcolor{keywordflow}{for}(uword out\_col=0, col=\mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}; col < X\_n\_cols; ++col, ++out\_col)}
\DoxyCodeLine{190           \{}
\DoxyCodeLine{191           arrayops::copy( out.\mbox{\hyperlink{group__Mat_gad6a294c2ed4726f7b4b95e750ddfeb7a}{colptr}}(out\_col), X.colptr(col), X\_n\_rows );}
\DoxyCodeLine{192           \}}
\DoxyCodeLine{193         }
\DoxyCodeLine{194         \textcolor{keywordflow}{for}(uword out\_col=(X\_n\_cols-\/\mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}), col=0; col < \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}; ++col, ++out\_col)}
\DoxyCodeLine{195           \{}
\DoxyCodeLine{196           arrayops::copy( out.\mbox{\hyperlink{group__Mat_gad6a294c2ed4726f7b4b95e750ddfeb7a}{colptr}}(out\_col), X.colptr(col), X\_n\_rows );}
\DoxyCodeLine{197           \}}
\DoxyCodeLine{198         \}}
\DoxyCodeLine{199       \}}
\DoxyCodeLine{200     \}}
\DoxyCodeLine{201   \}}
\DoxyCodeLine{202 }
\DoxyCodeLine{203 }
\DoxyCodeLine{204 }
\DoxyCodeLine{205 \textcolor{keyword}{template}<\textcolor{keyword}{typename} eT>}
\DoxyCodeLine{206 \textcolor{keyword}{inline}}
\DoxyCodeLine{207 \textcolor{keywordtype}{void}}
\DoxyCodeLine{208 op\_shift::apply\_alias(\mbox{\hyperlink{classMat}{Mat<eT>}}\& X, \textcolor{keyword}{const} uword \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}, \textcolor{keyword}{const} uword neg, \textcolor{keyword}{const} uword dim)}
\DoxyCodeLine{209   \{}
\DoxyCodeLine{210   arma\_extra\_debug\_sigprint();}
\DoxyCodeLine{211   }
\DoxyCodeLine{212   \textcolor{comment}{// TODO: replace with better implementation}}
\DoxyCodeLine{213   }
\DoxyCodeLine{214   \mbox{\hyperlink{classMat}{Mat<eT>}} tmp;}
\DoxyCodeLine{215   }
\DoxyCodeLine{216   op\_shift::apply\_noalias(tmp, X, \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}, neg, dim);}
\DoxyCodeLine{217   }
\DoxyCodeLine{218   X.steal\_mem(tmp);}
\DoxyCodeLine{219   \}}
\DoxyCodeLine{220 }
\DoxyCodeLine{221 }
\DoxyCodeLine{222 }

\end{DoxyCode}
